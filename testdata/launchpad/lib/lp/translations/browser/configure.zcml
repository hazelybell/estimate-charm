<!-- Copyright 2009-2010 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:i18n="http://namespaces.zope.org/i18n"
    xmlns:xmlrpc="http://namespaces.zope.org/xmlrpc"
    i18n_domain="launchpad">
<facet facet="translations">
    <browser:url
        for="lp.translations.interfaces.translations.IRosettaApplication"
        path_expression="string:translations"
        parent_utility="lp.services.webapp.interfaces.ILaunchpadRoot"/>
    <browser:defaultView
        for="lp.translations.interfaces.translations.IRosettaApplication"
        name="+index"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:navigation
        module="lp.translations.browser.translations"
        classes="
            RosettaApplicationNavigation"/>
    <browser:pages
        for="lp.translations.interfaces.translations.IRosettaApplication"
        permission="zope.Public"
        class="lp.translations.browser.translations.RosettaApplicationView"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+index"
            template="../templates/rosetta-index.pt"/>

        <!-- portlets -->

        <browser:page
            name="+portlet-stats"
            template="../templates/rosetta-portlet-stats.pt"/>
        <browser:page
            name="+portlet-groups"
            template="../templates/rosetta-portlet-groups.pt"/>
    </browser:pages>
    <browser:page
      for="lp.translations.interfaces.translations.IRosettaApplication"
      permission="zope.Public"
      class="lp.translations.browser.translations.TranslatableProductsView"
      layer="lp.translations.publisher.TranslationsLayer"
      name="+products-with-translations"
      template="../templates/rosetta-products.pt"/>
    <browser:page
        for="*"
        name="+rosetta-status-legend"
        template="../templates/rosetta-status-legend.pt"
        permission="zope.Public"/>
    <browser:page
        for="lp.translations.interfaces.rosettastats.IRosettaStats"
        class="lp.translations.browser.translations.RosettaStatsView"
        permission="zope.Public"
        name="+barchart"
        template="../templates/rosettastats-barchart.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="*"
        name="+translations-macros"
        permission="zope.Public"
        template="../templates/translations-macros.pt"
        layer="lp.translations.publisher.TranslationsLayer"
        class="lp.app.browser.launchpad.Macro"/>
    <browser:page
        for="lp.translations.interfaces.translationpolicy.ITranslationPolicy"
        permission="zope.Public"
        name="+portlet-translation-groups-and-permission"
        template="../templates/hastranslationgroup-portlet-translation-groups-and-permission.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:defaultView
            for="lp.translations.interfaces.translator.ITranslator"
            name="+admin"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+admin"
            for="lp.translations.interfaces.translator.ITranslator"
            permission="launchpad.Admin"
            class="lp.translations.browser.translator.TranslatorAdminView"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+edit"
            for="lp.translations.interfaces.translator.IEditTranslator"
            permission="launchpad.Edit"
            class="lp.translations.browser.translator.TranslatorEditView"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+remove"
            for="lp.translations.interfaces.translator.ITranslator"
            permission="launchpad.Edit"
            class="lp.translations.browser.translator.TranslatorRemoveView"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.translationimportqueue"
            classes="
                TranslationImportQueueEntryNavigation
                TranslationImportQueueNavigation"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            path_expression="string:${id}"
            parent_utility="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"/>
        <browser:page
            name="+index"
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            class="lp.translations.browser.translationimportqueue.TranslationImportQueueEntryView"
            permission="launchpad.Admin"
            template="../templates/translationimportqueueentry-index.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            permission="zope.Public"
            layer="lp.translations.publisher.TranslationsLayer"
            name="+portlet-details"
            class="lp.translations.browser.translationimportqueue.TranslationImportQueueEntryView"
            template="../templates/translationimportqueueentry-portlet-details.pt"/>
        <browser:url
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"
            path_expression="string:+imports"
            parent_utility="lp.services.webapp.interfaces.ILaunchpadRoot"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"
            name="+index"
            class="lp.translations.browser.translationimportqueue.TranslationImportQueueView"
            permission="zope.Public"
            template="../templates/translationimportqueue-index.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:url
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        path_expression="string:+lang/${language/code}"
        attribute_to_parent="distroseries"
        rootsite="translations"/>
    <browser:navigation
        module="lp.translations.browser.serieslanguage"
        classes="DistroSeriesLanguageNavigation"/>
    <browser:defaultView
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        name="+index"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:pages
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        permission="zope.Public"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+rosetta-status-legend"
            template="../templates/rosetta-status-legend.pt"/>
    </browser:pages>
    <browser:page
        name="+index"
        permission="zope.Public"
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        template="../templates/serieslanguage-index.pt"
        class="lp.translations.browser.serieslanguage.DistroSeriesLanguageView"
        layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.pofile"
            classes="
                POFileNavigation"/>
        <browser:url
            for="lp.translations.interfaces.pofile.IPOFile"
            path_expression="language/code"
            attribute_to_parent="potemplate"
            rootsite="translations"/>
        <browser:menus
            module="lp.translations.browser.pofile"
            classes="
                POFileFacets
                POFileNavigationMenu"/>
        <browser:defaultView
            for="lp.translations.interfaces.pofile.IPOFile"
            name="+translate"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.pofile.IPOFile"
            name="+details"
            permission="zope.Public"
            class="lp.translations.browser.pofile.POFileDetailsView"
            layer="lp.translations.publisher.TranslationsLayer"
            template="../templates/pofile-details.pt"/>
        <browser:pages
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="zope.Public"
            class="lp.translations.browser.pofile.POFileView"
            layer="lp.translations.publisher.TranslationsLayer">
            <!-- POFile Portlets -->
            <browser:page
                name="+contributors"
                template="../templates/pofile-translate-contributors.pt"/>
            <browser:page
                name="+portlet-details"
                template="../templates/pofile-portlet-details.pt"/>
            <browser:page
                name="+access"
                template="../templates/pofile-translate-access.pt"/>
            <browser:page
                name="+portlet-stats"
                template="../templates/pofile-portlet-stats.pt"/>
        </browser:pages>
        <browser:page
            name="+upload"
            permission="launchpad.Edit"
            class="lp.translations.browser.pofile.POFileUploadView"
            for="lp.translations.interfaces.pofile.IPOFile"
            template="../templates/pofile-upload.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.pofile.IPOFile"
            class="lp.translations.browser.translations.TranslateRedirectView"
            permission="zope.Public"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="zope.Public"
            template="../templates/pofile-translate.pt"
            class="lp.translations.browser.pofile.POFileTranslateView"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+export"
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="launchpad.AnyPerson"
            template="../templates/pofile-export.pt"
            class="lp.translations.browser.pofile.POExportView"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+filter"
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="zope.Public"
            template="../templates/pofile-filter.pt"
            class="lp.translations.browser.pofile.POFileFilteredView"
            layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:url
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        path_expression="string:+lang/${language/code}"
        attribute_to_parent="parent"
        rootsite="translations"/>
    <browser:navigation
        module="lp.translations.browser.serieslanguage"
        classes="
            ProductSeriesLanguageNavigation"/>
    <browser:defaultView
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        name="+index"/>
    <browser:pages
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        permission="zope.Public"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+rosetta-status-legend"
            template="../templates/rosetta-status-legend.pt"/>
    </browser:pages>
    <browser:page
        name="+index"
        permission="zope.Public"
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        template="../templates/serieslanguage-index.pt"
        class="lp.translations.browser.serieslanguage.ProductSeriesLanguageView"
        layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.language"
            classes="
                LanguageSetNavigation"/>
        <browser:defaultView
            for="lp.services.worlddata.interfaces.language.ILanguage"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:menus
            module="lp.translations.browser.language"
            classes="
                LanguageSetContextMenu
                LanguageNavigationMenu"/>
        <browser:url
            for="lp.services.worlddata.interfaces.language.ILanguage"
            path_expression="code"
            parent_utility="lp.services.worlddata.interfaces.language.ILanguageSet"
            rootsite="translations"/>
        <browser:page
            for="lp.services.worlddata.interfaces.language.ILanguage"
            class="lp.translations.browser.language.LanguageView"
            permission="zope.Public"
            template="../templates/language-index.pt"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.services.worlddata.interfaces.language.ILanguage"
            class="lp.translations.browser.language.LanguageAdminView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            name="+admin"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:pages
            for="lp.services.worlddata.interfaces.language.ILanguage"
            class="lp.translations.browser.language.LanguageView"
            permission="zope.Public"
            layer="lp.translations.publisher.TranslationsLayer">
            <browser:page
                name="+portlet-details"
                template="../templates/language-portlet-details.pt"/>
            <browser:page
                name="+portlet-top-contributors"
                template="../templates/language-portlet-top-contributors.pt"/>
        </browser:pages>
        <browser:defaultView
            for="lp.services.worlddata.interfaces.language.ILanguageSet"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:url
            for="lp.services.worlddata.interfaces.language.ILanguageSet"
            path_expression="string:+languages"
            parent_utility="lp.services.webapp.interfaces.ILaunchpadRoot"
            rootsite="translations"/>
        <browser:page
            for="lp.services.worlddata.interfaces.language.ILanguageSet"
            class="lp.translations.browser.language.LanguageSetView"
            permission="zope.Public"
            template="../templates/languageset-index.pt"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.services.worlddata.interfaces.language.ILanguageSet"
            class="lp.translations.browser.language.LanguageAddView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            name="+add"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.potemplate"
            classes="
                POTemplateNavigation
                POTemplateSubsetNavigation
                POTemplateSetNavigation"/>
        <browser:defaultView
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+preferred-chart"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateViewPreferred"
            permission="zope.Public"
            template="../templates/potemplate-chart.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:pages
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateView"
            permission="zope.Public"
            layer="lp.translations.publisher.TranslationsLayer">
            <browser:page
                name="+index"
                template="../templates/potemplate-index.pt"/>
            <browser:page
                name="+chart"
                template="../templates/potemplate-chart.pt"/>

            <!-- Potemplate Portlets -->

            <browser:page
                name="+portlet-details"
                template="../templates/potemplate-portlet-details.pt"/>
            <browser:page
                name="+portlet-langstats"
                template="../templates/potemplate-portlet-langstats.pt"/>
        </browser:pages>
        <browser:page
            name="+upload"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            permission="launchpad.TranslationsAdmin"
            template="../templates/potemplate-upload.pt"
            class="lp.translations.browser.potemplate.POTemplateUploadView"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+edit"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateEditView"
            permission="launchpad.TranslationsAdmin"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+admin"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateAdminView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+export"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            permission="launchpad.AnyPerson"
            template="../templates/potemplate-export.pt"
            class="lp.translations.browser.potemplate.POTemplateExportView"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:menus
            module="lp.translations.browser.potemplate"
            classes="
                POTemplateFacets
                POTemplateMenu"/>
        <browser:url
            for="lp.translations.interfaces.potemplate.IPOTemplateSubset"
            urldata="lp.translations.browser.potemplate.POTemplateSubsetURL"/>
        <browser:url
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            urldata="lp.translations.browser.potemplate.POTemplateURL"/>
        <browser:defaultView
            for="lp.translations.interfaces.potemplate.IPOTemplateSubset"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+index"
            for="lp.translations.interfaces.potemplate.IPOTemplateSubset"
            permission="zope.Public"
            class="lp.translations.browser.potemplate.POTemplateSubsetView"
            attribute="__call__"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.translationgroup"
            classes="
                TranslationGroupNavigation
                TranslationGroupSetNavigation"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            path_expression="name"
            rootsite="translations"
            parent_utility="lp.translations.interfaces.translationgroup.ITranslationGroupSet"/>
        <browser:pages
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            class="lp.translations.browser.translationgroup.TranslationGroupView"
            permission="zope.Public"
            layer="lp.translations.publisher.TranslationsLayer">
            <browser:page
                template="../templates/translationgroup-index.pt"
                name="+index"/>

            <!-- TranslationGroup portlets -->

            <browser:page
                name="+portlet-projects"
                template="../templates/translationgroup-portlet-projects.pt"/>
        </browser:pages>
        <browser:page
            name="+edit"
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            class="lp.translations.browser.translationgroup.TranslationGroupEditView"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+appoint"
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            class="lp.translations.browser.translationgroup.TranslationGroupAddTranslatorView"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+reassign"
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            class="lp.translations.browser.translationgroup.TranslationGroupReassignmentView"
            template="../templates/translationgroup-reassignment.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            name="+object-reassignment"
            template="../../app/templates/object-reassignment.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            path_expression="string:+groups"
            parent_utility="lp.services.webapp.interfaces.ILaunchpadRoot"
            rootsite="translations" />
        <browser:defaultView
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+new"
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            class="lp.translations.browser.translationgroup.TranslationGroupAddView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            class="lp.translations.browser.translationgroup.TranslationGroupSetView"
            permission="zope.Public"
            template="../templates/translationgroups-index.pt"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            path_expression="string:${sequence}"
            attribute_to_parent="browser_pofile"
            rootsite="translations"/>
        <browser:menus
            module="lp.translations.browser.translationmessage"
            classes="
                CurrentTranslationMessageFacets
                CurrentTranslationMessageAppMenus"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            class="lp.translations.browser.translationmessage.CurrentTranslationMessageIndexView"
            permission="zope.Public"
            name="+index"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            class="lp.translations.browser.translations.TranslateRedirectView"
            permission="zope.Public"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            permission="zope.Public"
            template="../templates/translationmessage-translate.pt"
            class="lp.translations.browser.translationmessage.CurrentTranslationMessagePageView"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            name="+display"
            for="lp.translations.interfaces.translationmessage.ITranslationMessageSuggestions"
            permission="launchpad.AnyPerson"
            template="../templates/translationmessage-suggestions.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>

<!-- SourcePackage translation pages -->

    <browser:defaultView
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+translations"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:menus
        classes="SourcePackageTranslationsMenu"
        module="lp.translations.browser.sourcepackage"/>

    <browser:page
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+export"
        layer="lp.translations.publisher.TranslationsLayer"
        permission="launchpad.ExpensiveRequest"
        template="../templates/translations-export.pt"
        class="
            lp.translations.browser.sourcepackage.SourcePackageTranslationsExportView"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        name="+translate"
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+sharing-details"
        class="lp.translations.browser.sourcepackage.SourcePackageTranslationSharingDetailsView"
        permission="zope.Public"
        template="../templates/sourcepackage-sharing-details.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:pages
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        permission="zope.Public"
        class="lp.translations.browser.sourcepackage.SourcePackageTranslationsView"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+potlist"
            template="../templates/object-pots.pt"/>
        <browser:page
            name="+translations"
            template="../templates/sourcepackage-translations.pt"/>
    </browser:pages>

<!-- ProductSeries translation pages -->

    <browser:defaultView
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+translations"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:menus
        classes="ProductSeriesTranslationsMenu"
        module="lp.translations.browser.productseries"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.productseries.IProductSeries"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:pages
        for="lp.registry.interfaces.productseries.IProductSeries"
        class="lp.translations.browser.productseries.ProductSeriesView"
        permission="zope.Public"
        layer="lp.translations.publisher.TranslationsLayer" >
        <browser:page
            name="+translations"
            template="../templates/productseries-translations.pt"
            />
        <browser:page
            name="+languages"
            template="../templates/productseries-translations-languages.pt"
            />
        <browser:page
            name="+portlet-not-using-launchpad"
            template="../templates/translations-portlet-not-using-launchpad.pt"/>
        <browser:page
            name="+portlet-configuration"
            template="../templates/translations-portlet-configuration.pt"/>
        <browser:page
            name="+portlet-not-using-launchpad-extra"
            template="../templates/translations-portlet-not-using-launchpad-extra.pt"/>
    </browser:pages>
    <browser:pages
        for="lp.registry.interfaces.productseries.IProductSeries"
        class="lp.translations.browser.productseries.ProductSeriesUploadView"
        permission="launchpad.Edit"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+translations-upload"
            template="../templates/productseries-translations-upload.pt"/>
    </browser:pages>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+translations-settings"
        class="lp.translations.browser.productseries.ProductSeriesTranslationsSettingsView"
        permission="launchpad.Edit"
        template="../templates/productseries-translations-settings.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+templates"
        class="lp.translations.browser.productseries.ProductSeriesTemplatesView"
        permission="zope.Public"
        template="../templates/object-templates.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+request-bzr-import"
        class="lp.translations.browser.productseries.ProductSeriesTranslationsBzrImportView"
        permission="launchpad.Edit"
        template="../templates/productseries-translations-bzr-import.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+export"
        layer="lp.translations.publisher.TranslationsLayer"
        for="lp.registry.interfaces.productseries.IProductSeries"
        permission="launchpad.AnyPerson"
        template="../templates/translations-export.pt"
        class="lp.translations.browser.productseries.ProductSeriesTranslationsExportView"/>
    <browser:page
        name="+link-translations-branch"
        layer="lp.translations.publisher.TranslationsLayer"
        for="lp.registry.interfaces.productseries.IProductSeries"
        permission="launchpad.Edit"
        template="../../app/templates/generic-edit.pt"
        class="lp.translations.browser.productseries.LinkTranslationsBranchView"/>

<!-- Person views -->

        <browser:defaultView
            for="lp.registry.interfaces.person.IPerson"
            name="+translations"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:menus
            module="lp.translations.browser.person"
            classes="
                PersonTranslationsMenu"/>
        <browser:page
            name="+translations"
            for="lp.registry.interfaces.person.IPerson"
            class="lp.translations.browser.translations.TranslationsRedirectView"
            permission="zope.Public"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+translations"
            class="lp.translations.browser.person.PersonTranslationView"
            permission="zope.Public"
            template="../templates/person-translations.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+licensing"
            class="
              lp.translations.browser.person.PersonTranslationRelicensingView"
            permission="launchpad.Edit"
            template="../templates/person-translations-relicensing.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+imports"
            class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
            permission="zope.Public"
            template="../templates/hastranslationimports-index.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            class="lp.translations.browser.person.PersonTranslationView"
            permission="zope.Public"
            name="+person-navlinks"
            template="../templates/person-navlinks.pt"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+activity"
            class="lp.translations.browser.person.TranslationActivityView"
            permission="zope.Public"
            template="../templates/person-translation-activity.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+translations-to-review"
            class="lp.translations.browser.person.PersonTranslationReviewView"
            permission="zope.Public"
            template="../templates/person-translations-to-review.pt"
            layer="lp.translations.publisher.TranslationsLayer"/>


<!-- Product views -->

    <browser:defaultView
        for="lp.registry.interfaces.product.IProduct"
        layer="lp.translations.publisher.TranslationsLayer"
        name="+translations"/>
    <browser:menus
        classes="
            ProductTranslationsMenu"
        module="lp.translations.browser.product"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.product.IProduct"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.product.IProduct"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+configure-translations"
        for="lp.registry.interfaces.product.IProduct"
        class="lp.translations.browser.product.ProductSettingsView"
        permission="launchpad.TranslationsAdmin"
        template="../templates/configure-translations.pt"/>
    <browser:pages
        for="lp.registry.interfaces.product.IProduct"
        permission="zope.Public"
        class="lp.translations.browser.product.ProductView"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+translations"
            template="../templates/product-translations.pt"/>
        <browser:page
            name="+portlet-translatables"
            template="../templates/product-portlet-translatables.pt"/>
        <browser:page
            name="+portlet-obsolete-translatables"
            template="../templates/product-portlet-obsolete-translatables.pt"/>
        <browser:page
            name="+portlet-not-using-launchpad"
            template="../templates/translations-portlet-not-using-launchpad.pt"/>
        <browser:page
            name="+portlet-configuration"
            template="../templates/translations-portlet-configuration.pt"/>
        <browser:page
            name="+portlet-not-using-launchpad-extra"
            template="../templates/translations-portlet-not-using-launchpad-extra.pt"/>
    </browser:pages>

<!-- ProjectGroup views -->

    <browser:defaultView
        for="lp.registry.interfaces.projectgroup.IProjectGroup"
        name="+translations"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:menus
        classes="
            ProjectTranslationsMenu"
        module="lp.translations.browser.project"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.projectgroup.IProjectGroup"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.projectgroup.IProjectGroup"
        permission="zope.Public"
        name="+translations"
        class="lp.translations.browser.project.ProjectView"
        template="../templates/project-translations.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+settings"
        for="lp.registry.interfaces.projectgroup.IProjectGroup"
        class="lp.translations.browser.project.ProjectSettingsView"
        permission="launchpad.TranslationsAdmin"
        template="../templates/configure-translations.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>

<!-- Distribution -->

    <browser:defaultView
        for="lp.registry.interfaces.distribution.IDistribution"
        name="+translations"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:menus
        classes="
            DistributionTranslationsMenu"
        module="lp.translations.browser.distribution"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.distribution.DistributionView"
        permission="zope.Public"
        name="+translations"
        template="../templates/distribution-translations.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+configure-translations"
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.distribution.DistributionSettingsView"
        permission="launchpad.TranslationsAdmin"
        template="../templates/configure-translations.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distribution.IDistribution"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distribution.IDistribution"
        name="+select-language-pack-admin"
        class="lp.translations.browser.distribution.DistributionLanguagePackAdminView"
        permission="launchpad.TranslationsAdmin"
        template="../../app/templates/generic-edit.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <!-- Language pack admin portlet -->
    <browser:page
        name="+language-pack-admin-info"
        for="lp.registry.interfaces.distribution.IDistribution"
        permission="launchpad.View"
        template="../templates/distribution-language-pack-admin-info.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+portlet-not-using-launchpad"
        for="lp.registry.interfaces.distribution.IDistribution"
        permission="zope.Public"
        template="../templates/translations-portlet-not-using-launchpad.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+portlet-not-using-launchpad-extra"
        for="lp.registry.interfaces.distribution.IDistribution"
        permission="zope.Public"
        template="../templates/translations-portlet-not-using-launchpad-extra.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        name="+portlet-configuration"
        for="lp.registry.interfaces.distribution.IDistribution"
        permission="zope.Public"
        template="../templates/translations-portlet-configuration.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
<!-- DistroSeries -->

    <browser:defaultView
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        name="+translations"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:menus
        classes="
            DistroSeriesTranslationsMenu"
        module="lp.translations.browser.distroseries"/>

    <browser:page
        name="+translations"
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:pages
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.distroseries.DistroSeriesView"
        permission="zope.Public"
        layer="lp.translations.publisher.TranslationsLayer">
        <browser:page
            name="+translations"
            template="../templates/distroseries-translations.pt"/>
        <browser:page
            name="+langchart"
            template="../templates/distroseries-langchart.pt"/>
        <browser:page
            name="+portlet-not-using-launchpad"
            template="../templates/translations-portlet-not-using-launchpad.pt"/>
        <browser:page
            name="+portlet-configuration"
            template="../templates/translations-portlet-configuration.pt"/>
        <browser:page
            name="+portlet-not-using-launchpad-extra"
            template="../templates/translations-portlet-not-using-launchpad-extra.pt"/>
    </browser:pages>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.distroseries.DistroSeriesTemplatesView"
        permission="zope.Public"
        layer="lp.translations.publisher.TranslationsLayer"
        name="+templates"
        template="../templates/object-templates.pt" />
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        permission="launchpad.TranslationsAdmin"
        class="lp.translations.browser.distroseries.DistroSeriesTranslationsAdminView"
        name="+admin"
        template="../../app/templates/generic-edit.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.distroseries.DistroSeriesLanguagePackView"
        permission="zope.Public"
        layer="lp.translations.publisher.TranslationsLayer"
        name="+language-packs"
        template="../templates/distroseries-language-packs.pt"/>


<!-- CustomLanguageCode -->

    <browser:defaultView
        for="lp.translations.interfaces.customlanguagecode.ICustomLanguageCode"
        name="+index"
        layer="lp.translations.publisher.TranslationsLayer"/>
    <browser:url
        for="lp.translations.interfaces.customlanguagecode.ICustomLanguageCode"
        path_expression="string:+customcode/${language_code}"
        attribute_to_parent="translation_target"
        />
    <browser:page
        name="+index"
        for="lp.translations.interfaces.customlanguagecode.ICustomLanguageCode"
        permission="zope.Public"
        class="lp.translations.browser.customlanguagecode.CustomLanguageCodeView"
        template="../templates/customlanguagecode-index.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>

    <browser:page
        name="+remove"
        for="lp.translations.interfaces.customlanguagecode.ICustomLanguageCode"
        permission="launchpad.TranslationsAdmin"
        class="lp.translations.browser.customlanguagecode.CustomLanguageCodeRemoveView"
        template="../templates/customlanguagecode-remove.pt"
        layer="lp.translations.publisher.TranslationsLayer"/>

<!-- IHasCustomLanguageCodes -->

    <browser:page
        name="+custom-language-codes"
        for="lp.translations.interfaces.customlanguagecode.IHasCustomLanguageCodes"
        layer="lp.translations.publisher.TranslationsLayer"
        class="lp.translations.browser.customlanguagecode.CustomLanguageCodesIndexView"
        template="../templates/customlanguagecodes-index.pt"
        permission="zope.Public"/>
    <browser:page
        name="+add-custom-language-code"
        for="lp.translations.interfaces.customlanguagecode.IHasCustomLanguageCodes"
        layer="lp.translations.publisher.TranslationsLayer"
        class="lp.translations.browser.customlanguagecode.CustomLanguageCodeAddView"
        template="../templates/customlanguagecode-add.pt"
        permission="launchpad.TranslationsAdmin"/>
</facet>

<!-- TranslationTemplateBuild -->
    <browser:defaultView
        for="lp.translations.interfaces.translationtemplatesbuild.ITranslationTemplatesBuild"
        name="+index"/>
    <browser:url
        for="lp.translations.interfaces.translationtemplatesbuild.ITranslationTemplatesBuild"
        path_expression="string:+translation-templates-build/${id}"
        attribute_to_parent="branch"/>
    <browser:page
        for="lp.translations.interfaces.translationtemplatesbuild.ITranslationTemplatesBuild"
        class="lp.translations.browser.translationtemplatesbuild.TranslationTemplatesBuildView"
        permission="launchpad.View"
        name="+index"
        facet="overview"
        template="../templates/translationtemplatesbuild-index.pt"/>

</configure>

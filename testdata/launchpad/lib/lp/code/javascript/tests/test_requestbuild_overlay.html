<!DOCTYPE html>
<!--
Copyright 2012 Canonical Ltd.  This software is licensed under the
GNU Affero General Public License version 3 (see the file LICENSE).
-->

<html>
  <head>
      <title>Test requestbuild_overlay</title>

      <!-- YUI and test setup -->
      <script type="text/javascript"
              src="../../../../../build/js/yui/yui/yui.js">
      </script>
      <link rel="stylesheet"
      href="../../../../../build/js/yui/console/assets/console-core.css" />
      <link rel="stylesheet"
      href="../../../../../build/js/yui/test-console/assets/skins/sam/test-console.css" />
      <link rel="stylesheet"
      href="../../../../../build/js/yui/test/assets/skins/sam/test.css" />

      <script type="text/javascript"
              src="../../../../../build/js/lp/app/testing/testrunner.js"></script>

      <link rel="stylesheet" href="../../../app/javascript/testing/test.css" />

      <!-- Dependencies -->
      <script type="text/javascript"
          src="../../../../../build/js/lp/app/client.js"></script>
      <script type="text/javascript"
          src="../../../../../build/js/lp/app/extras/extras.js"></script>
      <script type="text/javascript"
          src="../../../../../build/js/lp/app/anim/anim.js"></script>
      <script type="text/javascript"
          src="../../../../../build/js/lp/app/overlay/overlay.js"></script>
      <script type="text/javascript"
          src="../../../../../build/js/lp/app/formoverlay/formoverlay.js"></script>
      <script type="text/javascript"
          src="../../../../../build/js/lp/app/testing/mockio.js"></script>


      <!-- The module under test. -->
      <script type="text/javascript" src="../requestbuild_overlay.js"></script>

      <!-- Any css assert for this module. -->
      <!-- <link rel="stylesheet" href="../assets/requestbuild_overlay-core.css" /> -->

      <!-- The test suite. -->
      <script type="text/javascript" src="test_requestbuild_overlay.js"></script>

      <script type="text/javascript">
          // The code expects this to be present.
          var LP = {
              cache: {},
              links: {}
          };
      </script>

    </head>
    <body class="yui3-skin-sam">
        <ul id="suites">
            <!-- <li>lp.large_indicator.test</li> -->
            <li>lp.requestbuild_overlay.test</li>
        </ul>

        <div id="testbed"></div>
        <script type="text/x-template" id="builds-target-template">
          <table>
            <tr class="package-build" id="build-1"></tr>
            <tr class="package-build" id="build-2"></tr>
            </table>
        </script>
        <script type="text/x-template" id="requestbuilds-form-template">
          <div class="form" id="launchpad-form-widgets">
            <select id="field.archive" name="field.archive" size="1" >
              <option selected="selected" value="mark/ppa">
                PPA for Mark Shuttleworth</option>
            </select>
            <input name="field.archive-empty-marker" type="hidden" value="1" />
            <label for="field.distroseries.0">
              <input checked="checked" type="checkbox"
                   id="field.distroseries.0" name="field.distroseries" value="3" />
              Hoary</label>
            <label for="field.distroseries.">
              <input checked="checked" type="checkbox"
                   id="field.distroseries.1" name="field.distroseries" value="1" />
              Warty</label>
            <input name="field.distroseries-empty-marker" type="hidden" value="1" />
          </div>
        </script>

        <script type="text/x-template" id="build-schedule-template">
            <form action="+request-daily-build"
                  method="post" id="request-daily-build-form">
                <input type="submit" name="field.actions.build"
                    id="field.actions.build" value="Build now" />
            </form>
            <a id="request-daily-build"
                 class="sprite source-package-recipe js-action hidden"
                 href="+build-now">Build now</a>
            <div id="builds-target">
                <div>
                    <a id="request-builds"
                        class="" href="#">Request build(s)</a>
                </div>
            </div>
        </script>
    </body>
</html>
